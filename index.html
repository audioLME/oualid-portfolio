<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Oualid Meghlaoui</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

    <!-- Loading Overlay -->
    <div id="loading-overlay"></div>
  <!-- HEADER -->
  <header class="site-header">
    <div class="logo"><span>O</span><span>U</span><span>A</span><span>L</span><span>I</span><span>D</span><span>&nbsp;</span><span>M</span><span>E</span><span>G</span><span>H</span><span>L</span><span>A</span><span>O</span><span>U</span><span>I</span></div>

    <nav class="nav">
      <a href="#">RESUME</a>
      <a href="#">PORTFOLIO</a>
      <a href="#">CONTACT</a>
    </nav>

    <div class="meta" id="time-display">Algeria&nbsp;&nbsp;&nbsp;⧗&nbsp;&nbsp;&nbsp;00:00 AM&nbsp;&nbsp;&nbsp;Jan 1, 2026</div>
  </header>

  <!-- HERO -->
  <main class="hero">
    <div id="animation-box"></div>

    <section class="hero-text">
      <span class="label">(I AM)</span>
      <h1>
        The architecture-first<br />
        approach to spatial<br />
        design and systems.
      </h1>
    </section>
  </main>

  <!-- GSAP -->
  <script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
  <script src="hero.js"></script>
  <script>
    function updateTime() {
      const now = new Date();
      const timeString = now.toLocaleString('en-US', {timeZone: 'Africa/Algiers', hour12: true, hour: 'numeric', minute: '2-digit'});
      const dateString = now.toLocaleString('en-US', {timeZone: 'Africa/Algiers', month: 'short', day: 'numeric', year: 'numeric'});
      document.getElementById('time-display').textContent = `Algeria\u00A0\u00A0\u00A0⧗\u00A0\u00A0\u00A0${timeString}\u00A0\u00A0\u00A0${dateString}`;
    }
    updateTime();
    setInterval(updateTime, 60000);

    // Entry animation
    const entryTl = gsap.timeline();
    entryTl.to('#loading-overlay', { top: '100%', duration: 1, ease: 'power2.inOut' })
      .to({}, { duration: 0.8 }) // delay to show empty background
      .fromTo('.logo', { opacity: 0, y: 20 }, { opacity: 1, y: 0, duration: 0.5 })
      .fromTo('.nav a', { opacity: 0, y: 20 }, { opacity: 1, y: 0, duration: 0.5, stagger: 0.2 }, '-=0.3')
      .fromTo('.meta', { opacity: 0, y: 20 }, { opacity: 1, y: 0, duration: 0.5 }, '-=0.3')
      .call(() => {
        // Set and fade in the first word
        const word = words[0];
        container.innerHTML = "";
        const letters = word.split("");
        letters.forEach((char, i) => {
          const el = document.createElement("div");
          el.className = "letter";
          el.textContent = char === " " ? "\u00A0" : char;
          container.appendChild(el);
        });
        const containerWidth = container.getBoundingClientRect().width;
        const els = container.querySelectorAll('.letter');
        const widths = Array.from(els).map(el => el.getBoundingClientRect().width);
        const sumWidths = widths.reduce((a, b) => a + b, 0);
        const gap = Math.min(10, Math.max(0, (containerWidth - sumWidths) / (widths.length - 1)));
        const totalWidth = sumWidths + (widths.length - 1) * gap;
        let currentLeft = Math.max(0, (containerWidth - totalWidth) / 2);
        els.forEach((el, i) => {
          el.style.left = `${currentLeft}px`;
          currentLeft += widths[i] + gap;
        });
        gsap.to(".letter", { opacity: 1, duration: 0.5 });
        // Start cycle from next word
        wordIndex = 1;
        gsap.delayedCall(2, () => { cycle(); });

        // Start logo flip
        const logoTl = gsap.timeline({ repeat: -1 });
        logoTl.to('.logo span', { rotationY: 180, duration: 0.5, stagger: 0.1 }, 0)
          .to('.logo span', { rotationY: 0, duration: 0.5, stagger: 0.1 }, 0.5)
          .to({}, { duration: 4 }, 1);
      });
  </script>
</body>
</html>
